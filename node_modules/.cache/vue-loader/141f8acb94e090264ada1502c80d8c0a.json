{"remainingRequest":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/src/views/operation-screen/Bus.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/src/views/operation-screen/Bus.vue","mtime":1671064436000},{"path":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/node_modules/cache-loader/dist/cjs.js","mtime":1678071094995},{"path":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/node_modules/ts-loader/index.js","mtime":1678071095151},{"path":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/node_modules/cache-loader/dist/cjs.js","mtime":1678071094995},{"path":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/node_modules/vue-loader-v16/dist/index.js","mtime":1678071098307}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIHRvUmVmcywgb25Nb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZGVlcENvcHksIG51bUZvcm1hdCwgZ2V0Q29sb3JCeUluZGV4IH0gZnJvbSAiQC91dGlscy9jb21tb24iOwppbXBvcnQgeyBtaW5pQ2lyY2xlT3B0aW9uIH0gZnJvbSAiQC91dGlscy9jaGFydC1vcHRpb25zIjsKaW1wb3J0IHsgYnVzSW5mbyB9IGZyb20gIkAvYXBpL29wZXJhdGlvbi1zY3JlZW4iOwppbXBvcnQgdXNlT3B0aW9ucyBmcm9tICIuL3VzZS1vcHRpb25zIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAiYnVzIiwKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICB9LAogIHNldHVwKHByb3BzKSB7CiAgICBjb25zdCB7IHNjcmVlbkRhdGFUeXBlLCBnZXRUaXRsZSwgY2hhcnRTdHlsZSB9ID0gdXNlT3B0aW9ucygpOwogICAgY29uc3QgY29sb3JBcnIgPSBbCiAgICAgIHsgc3RhcnQ6ICIjNERFOEZGIiwgZW5kOiAiIzJBQTZGRiIgfSwKICAgICAgeyBzdGFydDogIiNGRkZCMDAiLCBlbmQ6ICIjRkZBMzAwIiB9LAogICAgXTsKICAgIGxldCBvcHRpb25zID0gcmVhY3RpdmUoewogICAgICBjYXJOdW1zOiAzMjAwLCAvL+i9pui+hiDmoIflj7DmlbAKICAgICAgcHVyZUVsZWN0cmljTnVtczogMzUwLCAvL+e6r+eUteaVsAogICAgICBoeWJyaWROdW1zOiAyMDAsIC8v5re35Yqo5pWwCiAgICAgIGdhc051bXM6IDQ1MCwgLy/nh4PmsJTmlbAKICAgIH0pOwogICAgbGV0IHB1cmVFbGVjdHJpY051bXNPcHRpb24gPSByZWFjdGl2ZShkZWVwQ29weShtaW5pQ2lyY2xlT3B0aW9uKSk7CiAgICBsZXQgaHlicmlkTnVtc09wdGlvbiA9IHJlYWN0aXZlKGRlZXBDb3B5KG1pbmlDaXJjbGVPcHRpb24pKTsKICAgIGxldCBnYXNOdW1zT3B0aW9uID0gcmVhY3RpdmUoZGVlcENvcHkobWluaUNpcmNsZU9wdGlvbikpOwogICAgLy/liJ3lp4vljJbmlbDmja4KICAgIGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICBidXNJbmZvKHsgdHlwZTogc2NyZWVuRGF0YVR5cGUudmFsdWUgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgcmVmcmVzaERhdGEoZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coIm9wdGlvbnMiLCB0b1JlZnMob3B0aW9ucykpOwogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGZvcm1hdERhdGEodmFsKSB7CiAgICAgIHJldHVybiAoKHZhbCAvIG9wdGlvbnMuY2FyTnVtcykgKiAxMDApLnRvRml4ZWQoMCk7CiAgICB9CiAgICBmdW5jdGlvbiBmb3JtYXRDaGFydChvcHRpb25OYW1lLCB2YWwsIG5hbWUpIHsKICAgICAgb3B0aW9uTmFtZS50aXRsZS50ZXh0ID0gZm9ybWF0RGF0YSh2YWwpICsgIiUiOwogICAgICBjb25zb2xlLmxvZygidmFsIiwgdmFsKTsKICAgICAgb3B0aW9uTmFtZS5zZXJpZXNbMF0uZGF0YVswXS52YWx1ZSA9IHZhbDsKICAgICAgb3B0aW9uTmFtZS5zZXJpZXNbMF0uZGF0YVswXS5uYW1lID0gbmFtZTsKICAgICAgb3B0aW9uTmFtZS5zZXJpZXNbMV0uZGF0YVswXS52YWx1ZSA9IG9wdGlvbnMuY2FyTnVtczsKICAgIH0KICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGluaXREYXRhKCk7CiAgICB9KTsKICAgIC8v5Yi35paw5pWw5o2uCiAgICBmdW5jdGlvbiByZWZyZXNoRGF0YShkYXRhKSB7CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgb3B0aW9ucy5jYXJOdW1zID0gZGF0YS5jYXJOdW1zOwogICAgICAgIG9wdGlvbnMucHVyZUVsZWN0cmljTnVtcyA9IGRhdGEucHVyZUVsZWN0cmljTnVtczsKICAgICAgICBvcHRpb25zLmh5YnJpZE51bXMgPSBkYXRhLmh5YnJpZE51bXM7CiAgICAgICAgb3B0aW9ucy5nYXNOdW1zID0gZGF0YS5nYXNOdW1zOwoKICAgICAgICBwdXJlRWxlY3RyaWNOdW1zT3B0aW9uLnRpdGxlLnRleHQgPSBmb3JtYXREYXRhKGRhdGEucHVyZUVsZWN0cmljTnVtcyk7CiAgICAgICAgZm9ybWF0Q2hhcnQocHVyZUVsZWN0cmljTnVtc09wdGlvbiwgZGF0YS5wdXJlRWxlY3RyaWNOdW1zLCAi57qv55S1Iik7CiAgICAgICAgZm9ybWF0Q2hhcnQoaHlicmlkTnVtc09wdGlvbiwgZGF0YS5oeWJyaWROdW1zLCAi5re35YqoIik7CiAgICAgICAgaHlicmlkTnVtc09wdGlvbi5zZXJpZXNbMF0uZGF0YVswXS5pdGVtU3R5bGUuY29sb3IgPSBnZXRDb2xvckJ5SW5kZXgoCiAgICAgICAgICBjb2xvckFyciwKICAgICAgICAgIDAKICAgICAgICApOwogICAgICAgIGZvcm1hdENoYXJ0KGdhc051bXNPcHRpb24sIGRhdGEuZ2FzTnVtcywgIueHg+awlCIpOwogICAgICAgIGdhc051bXNPcHRpb24uc2VyaWVzWzBdLmRhdGFbMF0uaXRlbVN0eWxlLmNvbG9yID0gZ2V0Q29sb3JCeUluZGV4KAogICAgICAgICAgY29sb3JBcnIsCiAgICAgICAgICAxCiAgICAgICAgKTsKICAgICAgfQogICAgfQogICAgY29uc3QgY3VyVGl0bGUgPSBnZXRUaXRsZShwcm9wcyk7CiAgICByZXR1cm4gewogICAgICAuLi50b1JlZnMob3B0aW9ucyksCiAgICAgIHNjcmVlbkRhdGFUeXBlLAogICAgICBjaGFydFN0eWxlLAogICAgICBudW1Gb3JtYXQsCiAgICAgIHB1cmVFbGVjdHJpY051bXNPcHRpb24sCiAgICAgIGh5YnJpZE51bXNPcHRpb24sCiAgICAgIGdhc051bXNPcHRpb24sCiAgICAgIGN1clRpdGxlLAogICAgICBpbml0RGF0YQogICAgfTsKICB9LAp9KTsK"},{"version":3,"sources":["/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/src/views/operation-screen/Bus.vue"],"names":[],"mappings":";AAoCA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAClE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC;EACH,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7D,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;MACf,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACpC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACtC,CAAC;IACD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC;IACF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QACpD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC;IACJ;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnD;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;MAC1C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtD;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACzB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAE9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR;QACF,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR;QACF,CAAC;MACH;IACF;IACA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC;EACH,CAAC;AACH,CAAC,CAAC","file":"/Users/charon/Desktop/阿京/代码/vue3_book_codes-main/codes/chapter9/screen-app/src/views/operation-screen/Bus.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"car\">\n    <jie-header :title=\"curTitle\">\n      <div class=\"head-info\">\n        <span class=\"label\">标台数：</span>\n        <span class=\"val\">{{ numFormat(carNums) }}</span>\n        <span class=\"unit\">辆</span>\n      </div>\n    </jie-header>\n    <div class=\"content\">\n      <div class=\"left-box\">\n        <jie-echarts\n          id=\"pureElectricNums\"\n          :style=\"chartStyle\"\n          :option=\"pureElectricNumsOption\"\n        />\n      </div>\n      <div class=\"center-box\">\n        <jie-echarts\n          id=\"hybridNums\"\n          :style=\"chartStyle\"\n          :option=\"hybridNumsOption\"\n        />\n      </div>\n      <div class=\"right-box\">\n        <jie-echarts id=\"gasNums\" :style=\"chartStyle\" :option=\"gasNumsOption\" />\n      </div>\n    </div>\n    <div class=\"title-box\">\n      <span class=\"chart-title\">纯电</span><span class=\"chart-title\">混动</span\n      ><span class=\"chart-title\">燃气</span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, onMounted } from \"vue\";\nimport { deepCopy, numFormat, getColorByIndex } from \"@/utils/common\";\nimport { miniCircleOption } from \"@/utils/chart-options\";\nimport { busInfo } from \"@/api/operation-screen\";\nimport useOptions from \"./use-options\";\nexport default defineComponent({\n  name: \"bus\",\n  props: {\n    title: {\n      type: String,\n    },\n  },\n  setup(props) {\n    const { screenDataType, getTitle, chartStyle } = useOptions();\n    const colorArr = [\n      { start: \"#4DE8FF\", end: \"#2AA6FF\" },\n      { start: \"#FFFB00\", end: \"#FFA300\" },\n    ];\n    let options = reactive({\n      carNums: 3200, //车辆 标台数\n      pureElectricNums: 350, //纯电数\n      hybridNums: 200, //混动数\n      gasNums: 450, //燃气数\n    });\n    let pureElectricNumsOption = reactive(deepCopy(miniCircleOption));\n    let hybridNumsOption = reactive(deepCopy(miniCircleOption));\n    let gasNumsOption = reactive(deepCopy(miniCircleOption));\n    //初始化数据\n    function initData() {\n      busInfo({ type: screenDataType.value }).then((res) => {\n        const data = res.data.data;\n        refreshData(data);\n        console.log(\"options\", toRefs(options));\n      });\n    }\n    function formatData(val) {\n      return ((val / options.carNums) * 100).toFixed(0);\n    }\n    function formatChart(optionName, val, name) {\n      optionName.title.text = formatData(val) + \"%\";\n      console.log(\"val\", val);\n      optionName.series[0].data[0].value = val;\n      optionName.series[0].data[0].name = name;\n      optionName.series[1].data[0].value = options.carNums;\n    }\n    onMounted(() => {\n      initData();\n    });\n    //刷新数据\n    function refreshData(data) {\n      if (data) {\n        options.carNums = data.carNums;\n        options.pureElectricNums = data.pureElectricNums;\n        options.hybridNums = data.hybridNums;\n        options.gasNums = data.gasNums;\n\n        pureElectricNumsOption.title.text = formatData(data.pureElectricNums);\n        formatChart(pureElectricNumsOption, data.pureElectricNums, \"纯电\");\n        formatChart(hybridNumsOption, data.hybridNums, \"混动\");\n        hybridNumsOption.series[0].data[0].itemStyle.color = getColorByIndex(\n          colorArr,\n          0\n        );\n        formatChart(gasNumsOption, data.gasNums, \"燃气\");\n        gasNumsOption.series[0].data[0].itemStyle.color = getColorByIndex(\n          colorArr,\n          1\n        );\n      }\n    }\n    const curTitle = getTitle(props);\n    return {\n      ...toRefs(options),\n      screenDataType,\n      chartStyle,\n      numFormat,\n      pureElectricNumsOption,\n      hybridNumsOption,\n      gasNumsOption,\n      curTitle,\n      initData\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  display: flex;\n  height: calc(100% - 34px);\n  .left-box,\n  .center-box,\n  .right-box {\n    width: 33.3%;\n    position: relative;\n  }\n}\n.head-info {\n  display: flex;\n  align-items: baseline;\n  .val {\n    color: #ffe500;\n    font-size: 20px;\n  }\n  .label,\n  .unit {\n    color: #eeeeee;\n    font-size: 14px;\n    // display: flex;\n    // align-items: baseline;\n  }\n  .unit {\n    padding-left: 4px;\n  }\n}\n.car {\n  position: relative;\n  height: 100%;\n}\n.title-box {\n  position: absolute;\n  display: flex;\n  width: 100%;\n  color: white;\n  font-size: 16px;\n  height: 20px;\n  bottom: 5px;\n  z-index: 2;\n  .chart-title {\n    width: 33.3%;\n    display: flex;\n    justify-content: center;\n  }\n}\n</style>\n"]}]}