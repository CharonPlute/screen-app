{"remainingRequest":"/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/ts-loader/index.js??ref--13-1!/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/charon/Desktop/jing/code/screen-project/screen-app/src/components/echarts/index.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/charon/Desktop/jing/code/screen-project/screen-app/src/components/echarts/index.vue","mtime":1671064436000},{"path":"/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/cache-loader/dist/cjs.js","mtime":1678071094995},{"path":"/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/ts-loader/index.js","mtime":1678071095151},{"path":"/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/cache-loader/dist/cjs.js","mtime":1678071094995},{"path":"/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/vue-loader-v16/dist/index.js","mtime":1678071098307}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBvbk1vdW50ZWQsIHdhdGNoLCB0b1JlZiB9IGZyb20gInZ1ZSI7IC8vIkB2dWUvY29tcG9zaXRpb24tYXBpIjsKaW1wb3J0IHsgZ3VpZCB9IGZyb20gIkAvdXRpbHMvY29tbW9uIjsKaW1wb3J0IHsgRWxlUmVzaXplIH0gZnJvbSAiQC91dGlscy9lc3Jlc2l6ZS5qcyI7CmltcG9ydCB7IGluaXQgfSBmcm9tICJlY2hhcnRzIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICAgIG5hbWU6ICJqaWUtZWNoYXJ0cyIsCiAgICBwcm9wczogewogICAgICAgIC8vaWTmoIfor4bvvIzllK/kuIAKICAgICAgICBpZDogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6IGd1aWQoKSwKICAgICAgICB9LAogICAgICAgIC8v5Zu+6KGo5a695bqmCiAgICAgICAgd2lkdGg6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAiMTAwJSIsCiAgICAgICAgfSwKICAgICAgICAvL+WbvuihqOmrmOW6pgogICAgICAgIGhlaWdodDogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICIyMjBweCIsCiAgICAgICAgfSwKICAgICAgICAvL+aMh+WummNsYXNz5qC35byP5ZCN56ewCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAiZWNoYXJ0cy1saW5lIiwKICAgICAgICB9LAogICAgICAgIC8vZWNoYXJ0c+mFjee9rumhuQogICAgICAgIG9wdGlvbjogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsgfSwKICAgICAgICB9LAogICAgICAgIC8vc3R5bGXmoLflvI/lr7nosaEKICAgICAgICBzdHlsZTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICgpIHsgfSwKICAgICAgICB9LAogICAgICAgIC8v5piv5ZCm5Yqg6L295LitCiAgICAgICAgbG9hZGluZzogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgICB9LAogICAgfSwKICAgIHNldHVwOiBmdW5jdGlvbiAocHJvcHMsIF9hKSB7CiAgICAgICAgdmFyIGVtaXQgPSBfYS5lbWl0OwogICAgICAgIHZhciBNeUVjaGFydHMgPSBudWxsOyAvLyBlY2hhcnRz5a6e5L6LCiAgICAgICAgLy8g57uE5Lu25Yid5aeL5YyWCiAgICAgICAgdmFyIEluaXRDaGFydHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBkb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9wcy5pZCk7CiAgICAgICAgICAgIE15RWNoYXJ0cyA9IGluaXQoZG9tKTsKICAgICAgICAgICAgaWYgKHByb3BzLmxvYWRpbmcgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog5q2k5pa55rOV6YCC55So5LqO5omA5pyJ6aG555uu55qE5Zu+6KGo77yM5L2G5piv5q+P5Liq6YWN572u6YO96ZyA6KaB5Zyo54i257uE5Lu25Lyg6L+b5p2l77yM55u45b2T5LqO5q+P5Liq5Zu+6KGo55qE6YWN572u6YO96ZyA6KaB5YaZ5LiA6YGN77yM5LiN5piv54m55Yir55qE55yB5Luj56CB77yM5Li76KaB5piv54G15rS75bqm6auYCiAgICAgICAgICAgICAqIGVjaGFydHPnmoTphY3nva7pobnvvIzkvaDlj6/ku6Xnm7TmjqXlnKjlpJbovrnphY3nva7lpb3vvIznm7TmjqXmiZTov5vmnaXkuIDkuKp0aGlzLm9wdGlvbgogICAgICAgICAgICAgKi8KICAgICAgICAgICAgTXlFY2hhcnRzLmNsZWFyKCk7IC8vIOmAgueUqOS6juWkp+aVsOaNrumHj+eahOWIh+aNouaXtuWbvuihqOe7mOWItumUmeivryzlhYjmuIXnqbrlnKjph43nu5gKICAgICAgICAgICAgTXlFY2hhcnRzLnNldE9wdGlvbihwcm9wcy5vcHRpb24sIHRydWUpOyAvLyDorr7nva7kuLp0cnVl5Y+v5Lul5piv5Zu+6KGo5YiH5o2i5pWw5o2u5pe26YeN5paw5riy5p+TCiAgICAgICAgICAgIE15RWNoYXJ0cy5vbigiY2xpY2siLCBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgICBtYXBDbGljayhwYXJhbXMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy/kuI3liqDov5nku6PnoIHvvIzlm77ooajliJ3lp4vljJblsZXnpLrkvJrmnInpl67popgKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBNeUVjaGFydHMucmVzaXplKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyAvLyDlvZPnqpflj6Plj5jljJbml7bpmo/mtY/op4jlmajlpKflsI/ogIzmlLnlj5gt5pyJ57y66Zm3CiAgICAgICAgICAgIC8vIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHsKICAgICAgICAgICAgLy8gIE15RWNoYXJ0cy5yZXNpemUoKTsKICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCflj5jljJZ3aW5kb3cnKTsKICAgICAgICAgICAgLy8gICAvLyBNeUVjaGFydHMucmVzaXplKHsgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KTsKICAgICAgICAgICAgLy8gfTsKICAgICAgICAgICAgLy/lnKhkaXbkuIrnu5Hlrprlr7nlupRvbnJlc2l6ZSDmlrnms5UKICAgICAgICAgICAgRWxlUmVzaXplLm9uKGRvbSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuWPmOWMlkVsZVJlc2l6ZSIpOwogICAgICAgICAgICAgICAgTXlFY2hhcnRzLnJlc2l6ZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIC8v57uE5Lu25Y2V5Ye75LqL5Lu2CiAgICAgICAgdmFyIG1hcENsaWNrID0gZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgICAgICBlbWl0KCJlY2xpY2siLCBwYXJhbXMpOwogICAgICAgIH07CiAgICAgICAgdmFyIHNob3dMb2FkaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoTXlFY2hhcnRzKSB7CiAgICAgICAgICAgICAgICBNeUVjaGFydHMuc2hvd0xvYWRpbmcoewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICJsb2FkaW5nIiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgaGlkZUxvYWRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChNeUVjaGFydHMpIHsKICAgICAgICAgICAgICAgIE15RWNoYXJ0cy5oaWRlTG9hZGluZygpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBJbml0Q2hhcnRzKCk7CiAgICAgICAgfSk7CiAgICAgICAgd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvcHMub3B0aW9uOyB9LCBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAgICAgaWYgKE15RWNoYXJ0cykgewogICAgICAgICAgICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgICAgICAgICAgICAgIE15RWNoYXJ0cy5zZXRPcHRpb24obmV3VmFsLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIE15RWNoYXJ0cy5zZXRPcHRpb24ob2xkVmFsLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIEluaXRDaGFydHMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgICAgZGVlcDogdHJ1ZSwKICAgICAgICB9KTsKICAgICAgICB3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wcy5sb2FkaW5nOyB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHByb3BzLmxvYWRpbmcgPT09IHRydWUgPyBzaG93TG9hZGluZygpIDogaGlkZUxvYWRpbmcoKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgbXljbGFzcyA9IHRvUmVmKHByb3BzLCAiY2xhc3MiKTsKICAgICAgICB2YXIgbXlTdHlsZSA9IHRvUmVmKHByb3BzLCAic3R5bGUiKTsKICAgICAgICByZXR1cm4geyBNeUVjaGFydHM6IE15RWNoYXJ0cywgbXljbGFzczogbXljbGFzcywgbXlTdHlsZTogbXlTdHlsZSB9OwogICAgfSwKfSk7Cg=="},{"version":3,"file":"/Users/charon/Desktop/jing/code/screen-project/screen-app/src/components/echarts/index.vue.ts","sourceRoot":"","sources":["/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/charon/Desktop/jing/code/screen-project/screen-app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/charon/Desktop/jing/code/screen-project/screen-app/src/components/echarts/index.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { defineComponent, onMounted, watch, toRef } from \"vue\"; //\"@vue/composition-api\";\nimport { guid } from \"@/utils/common\";\nimport { EleResize } from \"@/utils/esresize.js\";\nimport { init } from \"echarts\";\n\nexport default defineComponent({\n  name: \"jie-echarts\",\n  props: {\n    //id标识，唯一\n    id: {\n      type: String,\n      default: guid(),\n    },\n    //图表宽度\n    width: {\n      type: String,\n      default: \"100%\",\n    },\n    //图表高度\n    height: {\n      type: String,\n      default: \"220px\",\n    },\n    //指定class样式名称\n    class: {\n      type: String,\n      default: \"echarts-line\",\n    },\n    //echarts配置项\n    option: {\n      type: Object,\n      default: () => {},\n    },\n    //style样式对象\n    style: {\n      type: Object,\n      default: () => {},\n    },\n    //是否加载中\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props: any, { emit }) {\n    let MyEcharts: any = null; // echarts实例\n    // 组件初始化\n    const InitCharts = () => {\n      let dom = document.getElementById(props.id);\n      MyEcharts = init(dom as HTMLDivElement);\n      if (props.loading == true) {\n        showLoading();\n      }\n      /**\n       * 此方法适用于所有项目的图表，但是每个配置都需要在父组件传进来，相当于每个图表的配置都需要写一遍，不是特别的省代码，主要是灵活度高\n       * echarts的配置项，你可以直接在外边配置好，直接扔进来一个this.option\n       */\n      MyEcharts.clear(); // 适用于大数据量的切换时图表绘制错误,先清空在重绘\n      MyEcharts.setOption(props.option, true); // 设置为true可以是图表切换数据时重新渲染\n      MyEcharts.on(\"click\", function (params: any) {\n        mapClick(params);\n      });\n      //不加这代码，图表初始化展示会有问题\n      setTimeout(() => {\n        MyEcharts.resize();\n      });\n      // // 当窗口变化时随浏览器大小而改变-有缺陷\n      // window.onresize = () => {\n      //  MyEcharts.resize();\n      //     console.log('变化window');\n      //   // MyEcharts.resize({ height: this.height });\n      // };\n      //在div上绑定对应onresize 方法\n      EleResize.on(dom, () => {\n        // eslint-disable-line\n        console.log(\"变化EleResize\");\n        MyEcharts.resize();\n      });\n    };\n    //组件单击事件\n    const mapClick = (params: any) => {\n      emit(\"eclick\", params);\n    };\n    const showLoading = () => {\n      if (MyEcharts) {\n        MyEcharts.showLoading({\n          text: \"loading\",\n          // color: '#4cbbff',\n          // textColor: '#4cbbff',\n        });\n      }\n    };\n    const hideLoading = () => {\n      if (MyEcharts) {\n        MyEcharts.hideLoading();\n      }\n    };\n    onMounted(() => {\n      InitCharts();\n    });\n    watch(\n      ()=>props.option,\n      (newVal, oldVal) => {\n        if (MyEcharts) {\n          if (newVal) {\n            MyEcharts.setOption(newVal, true);\n          } else {\n            MyEcharts.setOption(oldVal, true);\n          }\n        } else {\n          InitCharts();\n        }\n      },\n      {\n        deep: true, // 是否是深度监视, 默认是false\n      }\n    );\n    watch(()=>props.loading, () => {\n      props.loading === true ? showLoading() : hideLoading();\n    });\n    const myclass = toRef(props, \"class\");\n    const myStyle = toRef(props, \"style\");\n    return { MyEcharts, myclass, myStyle };\n  },\n});\n"]}]}